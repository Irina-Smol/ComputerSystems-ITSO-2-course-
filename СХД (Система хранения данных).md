# СХД (Система хранения данных)

Система хранения данных представляет собой комплекс оборудования и программного обеспечения, обеспечивающего сбережение и быструю обработку информации, ее резервное копирование. Она подходит для работ со структурированными и неструктурированными файлами, архивами преимущественно большого объема. В качестве носителя информации в СХД используются твердотельные накопители SSD или гибридные решения, которые в одной системе хранения совмещают как SSD, так и HDD-накопители.

### Конструктивно СХД состоит из:

- блока HDD, SSD-дисков или их комбинации;

- встроенного контролера;

- кэш-памяти;

- нескольких преобразователей напряжения;

- защитного кожуха.

Oдно из наиболее весомых отличий и преимуществ СХД перед обычными жесткими дисками – очень высокая скорость работы. Сервер, подключенный в том числе и к облачной системе хранения данных будет выдавать производительность, значительно превосходящую возможности накопителей, установленных в обычный сервер.

## Уровни СХД

В зависимости от ряда критериев выделяют несколько разновидностей систем хранения данных. И первое, на что стоит обратить внимание, так это на уровни хранения. Здесь предусмотрено 3 варианта:

### Блочная СХД. 

В этом случае система применяется как обычный жесткий диск. Сюда можно загружать любую ОС, форматировать его, формировать логические диски. В таких системах файлы хранятся не как файл, а как отдельные блоки. Такое решение существенно ускоряет их загрузку и отправку. На практике наибольшее применение получили в сетях Storage Attached Network. Они подходят для хранения больших баз данных, выполнения высокопроизводительных расчетов, систем управления БД, как среда разработки. Но в настройке и обслуживании они будут значительно сложнее ближайших аналогов, да и по цене они будут выше.

### Файловая СХД. 

В такой системе данные сохраняются в виде файлов. Их распределяют по соответствующим каталогам. Подобное решение идеально подходит для хранения информации, не требующей операционной обработки, вычислений. Для построения этих систем хранения применяются в основном Network Attached Storage. Основная проблема такого уровня – усложнение структуры папок при повышении объема информации. Это негативно сказывается и на скорости ее работы. То есть там, где требуется высокая скорость отклика, их использовать не рекомендуется.

### Объектная СХД. 

Предназначается для работы с большими объемами неструктурированной информации. В этом случае организация системы хранения данных предполагает использование сгруппированных объектов, которые классифицируют по метаданным и уникальным идентификаторам. По своему строению они схожи с классическими базами данных. На практике получили применение в Big Data, аналитике, машинном обучении. Здесь можно хранить большие по объему мультимедийные файлы, создавать резервные копии, хостинг интернет-ресурсов. Широко используют их в облачных технологиях на этапе разработки программных продуктов и их последующей эксплуатации. По скорости передачи данных объектные системы несколько уступают блочным аналогам.

## Как работает система хранения данных

В зависимости от уровня чтения, хранения и записи информации выделяют 2 группы СХД:

1) Работают с файловыми данными. 

Такая СХД работает как полноценный самостоятельный сервер. Здесь предусмотрена собственная файловая система. В работе она простая. От пользователя поступает запрос записать определенный объем информации в файл или извлечь его. Сервер все это обрабатывает. Система, работающая на этом принципе, называется Network Attached Storage (NAS).

2) Работают с блочными данными. 

Такое решение обеспечивает высокую скорость взаимодействия между хранилищем данных и сервером. Здесь предусмотрено только 2 блока: вызова блока или записи блока. В этом случае используются инфраструктуры Storage Area Network (SAN) или Direct Attached Storage (DAS).

### NAS

NAS – это всего лишь устройство, предназначенное для обмена файлами в IP сети. Для реализации такой задачи используется выделенный высокопроизводительный сервер с собственной операционной системой. Она уже изначально «заточена» под операции по чтению и записи файлов. Для связи между сетью и аппаратной составляющей предусмотрено несколько сетевых интерфейсов: GigabitEthernet, FDDI, FastEthernet и пр. NAS присущ очень большой объем памяти, преимущественная часть которого применяется, как кэш. Такое решение обеспечивает возможность асинхронной записи. Скорость чтения увеличивается путем буферизации. То есть данные долго находятся в самой оперативной памяти и на диск не попадают.

Такая система обработки и хранения данных имеет ряд преимуществ:

- предоставление сетевого доступа всем пользователям в комплексе с минимальной стоимостью;

- возможность менять «форму» хранилища, подстраивая ее под особенности определенного бизнес-процесса, подключать виртуальные машины, дисковые станции и пр.;

- простота подключения, управления: работает с протоколами шаринга Network File System и Common Internet File System, клиент просто выполняет операции чтения и записи в привычном файловом режиме;

- быстрота взаимодействия: операции IO занимают меньше времени в сравнении с использованием серверов общего назначения;

- увеличение емкости выполняется прозрачно для клиентов, но в самих процессах добавления или снижения памяти они не участвуют.

Но, наряду с этими преимуществами есть и ряд ограничений. И основное их них связано непосредственно с основой Network Attached Storage – подходит для хранения исключительно файлов. К тому же повышение нагрузки на сеть при постоянной пропускной способности будет повышать время отклика. Также здесь могут не работать ряд приложений с сетевыми дисками.

### DAS

DAS – это инфраструктура отдельно внутреннего и внешнего типа. Отличаются они допустимым расстоянием между серверами и устройством хранения. В любом случае подключение здесь идет прямое благодаря технологиям SCSI и FC.

Простая архитектура наделяет Direct Attached Storage рядом преимуществ:

- самая низкая стоимость среди всех возможных вариантов;

- простота развертывания, применения на практике и администрирования;

- удобство управления, связанное с минимальным числом компонентов в системе;

- быстрота передачи и обработки данных;

- применение проверенной и надежной технологии RAID, обеспечивающей целостность данных.

Но вот использовать DAS можно только в условиях ограниченного числа рабочих станций и для решения некритичный задач. Количество портов – это и есть допустимое для подключения число машин. Оставляет желать лучшего и эффективность применения кэша. Часть этих проблем можно решить путем использования парка серверов, каждый из которых будет закреплен под обработку определенных категорий запросов. Но здесь уже возникнут сложности с их распределением между машинами.

### SAN

Это уже сеть хранения данных – инфраструктура блочного хранения информации, основанная на высокоскоростных сетях. Помимо тех компонентов, которые есть в других хранилищах, здесь присутствуют специальные коммутаторы. С их помощью выполняется передача информации через FibreChannel (FC) или Internet Small Computer System Interface (iSCSI).

Такие системы хранения данных нашли широкое использование на практике благодаря ряду преимуществ:

- высокая скорость отклика, минимальные задержки по времени;

- гибкость настроек, возможность масштабирования: можно не только увеличивать существующую емкость, но и добавлять новые узлы;

- удобное блочное хранение информации;

- стабильность процессов обмена и хранения сведений;

- не нужен собственный загрузочный диск (обеспечивается опцией Boot From SAN);

- освобождение подсетей от стороннего (служебного) трафика.

Но в проектировании система будет более сложной, что скажется на итоговой стоимости ее внедрения.

